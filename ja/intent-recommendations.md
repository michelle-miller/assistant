---

copyright:
  years: 2015, 2019
lastupdated: "2019-02-21"

subcollection: assistant

---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}
{:deprecated: .deprecated}
{:important: .important}
{:note: .note}
{:tip: .tip}
{:pre: .pre}
{:codeblock: .codeblock}
{:screen: .screen}
{:javascript: .ph data-hd-programlang='javascript'}
{:java: .ph data-hd-programlang='java'}
{:python: .ph data-hd-programlang='python'}
{:swift: .ph data-hd-programlang='swift'}

# Watson のヘルプの利用
{: #intent-recommendations}

カスタマー・サポート・センターから提供を受けた、実際のユーザーの発話内容などが含まれたチャット・ログのトランスクリプトがある場合は、既存のデータをこのサービスでマイニングして、インテントのユーザー例候補を探してください。

## ファイルのアップロード
{: #intent-recommendations-log-files-add}

開始する前に、本サービスに提供するファイルを作成します。このファイルは、1 行に 1 件のユーザー発話を記述したコンマ区切り値 (CSV) ファイルである必要があります。これらの発話内容は、実際のお客様の質問や要求が含まれた、コール・センターのトランスクリプトから抽出された短いフレーズであることが理想的です。各ユーザー発話ファイルの最大サイズは 20 MB です。

さらに、以下の付加的なガイドラインに従ってください。

  - ファイルに含める発話内容からすべての機密データを削除します。

    機密データに該当するのは、氏名、電子メール・アドレス、お客様 ID などの個人情報や、保護医療情報などの規制対象データです。
  - 長さが 1,024 文字を超えるユーザー発話を含めないでください。これより長い発話は切り捨てられます。
  - ファイルには少なくとも 100 件の発話が含まれている必要があります。ファイルに含まれる発話の数が 500 件を超えると、より良い結果が得られます。
  - 発話内容にコンマが含まれている場合は、その発話を引用符で囲んでください。
  - CSV に入れられる列は 1 列のみです。
  - ユーザーが生成した発話以外のものは、人間の担当者の応答やメモを含め、すべて削除してください。

  次に例を示します。

  ```
  自分の車を下取りに出した場合は、私の保険担保範囲はどうなりますか。
家を買うつもりです。
私のプランに扶養家族を追加するにはどうすればよいですか。
「まず、私が既に登録されているかどうかを知りたいです。」
```

アップロードしたすべてのファイルは、現在のサービス・インスタンス内のすべてのスキル間で共有されます。インテントのユーザー例の推奨を要請すると、すべての使用可能なファイル内の発話がマイニングされます。

## インテント・ユーザー例の推奨の取得
{: #intent-recommendations-get-example-recommendations}

以下のビデオでは、インテントのユーザー例の推奨を取得する方法の概要を 2 分間で紹介しています。

<iframe class="embed-responsive-item" id="youtubeplayer" title="インテントのユーザー例の推奨" type="text/html" width="640" height="390" src="https://www.youtube.com/embed/L3FI8KeZfsc?rel=0" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen> </iframe>

アップロードするファイルで、例をインテントと関連付ける必要はありません。未加工のユーザー発話を提供するだけで、現在のインテントに適した発話が本サービスで自動的に選択されます。本サービスは、すべてのインテントで同じデータを分析して、当該インテントに適切なユーザー例を見つけ出します。

1.  [インテントの作成](/docs/services/assistant?topic=assistant-intents#intents-creating-intents-task)のステップに従って、インテントを作成します。

1.  このインテントをトリガーするためにユーザーが発すると予想される典型的な発話をすべて網羅する、5 つ以上のユーザー例を追加します。

    これらのシード・ユーザー例によって、アップロードするファイル内で、どのような種類の発話を探すかについて、サービスに学習させます。

1.  **「推奨の表示 (Show recommendations)」**をクリックします。

    ユーザー例のソース・ファイルは、同一サービス・インスタンス内のスキルの間で共有されます。同じインスタンス内のスキルを所有する同僚がファイルをアップロードした場合、そのファイルは共有されている*「ユーザー例ソース・ファイル (User examples source files)」* コレクションに追加されます。

1.  **初回時のみ**: **「ファイルのアップロード (Upload files)」**をクリックしてから**「ファイルを選択してください (Choose a file)」**をクリックして、以前に作成した CSV ファイルを参照して選択します。

    アップロードしたファイルにすべてのタイプのインテントの発話が含まれていても問題ありません。本サービスは現在の作業対象となっているインテントを認識しているので、今回の特定のインテントに対する推奨として適切な例が検出されます。

    ファイルがアップロードされ、サービスによって処理されると、推奨される発話が表示されます。何も推奨されない場合は、そのファイルにはこのインテントに適した例は含まれていません。

1.  このファイルで提供できる有用な推奨がどのインテントにおいても見つからない場合、別のファイルをアップロードして、異なるセットの発話を試してみることができます。詳しくは、[アップロードされたファイルの管理](#intent-recommendations-manage-files)を参照してください。

1.  サービスによって推奨が表示された後、このインテント向けのユーザー例として追加する発話を選択し、**「追加 (Add)」**をクリックします。または、**「次のセット (Next set)」**をクリックしてさらに別の発話を確認します。
1.  CSV ファイルのコンテンツからユーザー例を自分で検索する場合は、**「ログの検索 (Search Logs)」**タブをクリックし、検索基準とするキーワードを入力してから、**Enter** キーを押します。

    検索照会の構文に関する以下のガイドラインに従ってください。

    - ブール演算子 (`AND` や `OR` など) がサポートされています。
    - 完全一致するテキストを検索するには、引用符で囲んだテキストを追加します (例: "thisstringmustbepresent")。
    - 正規表現を使用できます。例えば、`*ly` を使用すると、`ly` で終了するすべての語を検索できます。
    - 以下の文字は正規表現演算子として使用されます。

      `+ - = && || > < ! ( ) { } [ ] ^ " ~ * ? : \ /`

      これらの文字を演算子として処理せずに検索語に含める場合は、先頭に円記号 ('\') を付ける必要があります。

この方法で追加するユーザー例は、インテント・ユーザー例の合計に加算されます。この合計数は、プランごとに制限があります。詳しくは、[インテント数の制限](/docs/services/assistant?topic=assistant-intents#intents-limits)を参照してください。

## アップロードされたファイルの管理
{: #intent-recommendations-manage-files}

少なくとも 1 つのファイルをアップロードした後に、*「ユーザー例ソース・ファイル (User example source files)」* コレクションを開いてファイルを管理できます。アップロードされたファイルは、現在の {{site.data.keyword.conversationshort}} サービス・インスタンス全体にわたって共有されるファイル・コレクションに追加されます。

1.  このコレクションにアクセスするには、任意のインテントをクリックして開いて、**「推奨の表示 (Show recommendations)」**をクリックしてから、**「ファイルの表示 (View Files)」**をサイドバーからクリックします。

1.  以下のアクションを実行できます。

    - ファイルを追加するには、**「ファイルの追加 (Add Files)」**をクリックしてから、ファイルを参照して選択します。
    - ファイルを削除するには、このサービス・インスタンスに関連付けられたスキルからアップロードされたすべてのファイルを削除する必要があります。したがって、1 つのファイルのみを削除することはできません。まず、他のどのユーザーもそれらのファイルを使用していないことを確認してから、**「すべて削除 (Delete all)」**をクリックしてすべてのアップロード済みファイルを削除します。

1.  *「ユーザー例ソース・ファイル (User example source files)」* ページを閉じます。
