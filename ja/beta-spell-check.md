---

copyright:
  years: 2015, 2019
lastupdated: "2019-02-11"

subcollection: assistant

---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}
{:deprecated: .deprecated}
{:important: .important}
{:note: .note}
{:tip: .tip}
{:pre: .pre}
{:codeblock: .codeblock}
{:screen: .screen}
{:javascript: .ph data-hd-programlang='javascript'}
{:java: .ph data-hd-programlang='java'}
{:python: .ph data-hd-programlang='python'}
{:swift: .ph data-hd-programlang='swift'}
{:gif: data-image-type='gif'}

# ユーザー入力の修正
{: #beta-spell-check}

この機能は、ベータ・プログラムの参加者のみ使用できます。アクセス権を要求する方法については、[ベータ・プログラムへの参加](/docs/services/assistant?topic=assistant-feedback#feedback-beta)を参照してください。

![ベータ](images/beta.png) IBM は、ベータに分類される評価のためのサービス、機能、および言語サポートをリリースしています。 これらの機能は不安定な場合があり、頻繁に変更される場合があり、十分な通知期間を設けずに中止される場合があります。 また、ベータ機能では、通常使用できる機能と同レベルのパフォーマンスや互換性が提供されない場合があり、実稼働環境での使用が意図されていません。

*スペル・チェック* 機能を有効にして、ユーザーがユーザー入力として送信する発話内のつづりの誤りを修正します。スペル・チェックが有効化されると、つづりが誤った単語が自動的に修正されます。また、この修正された単語が、入力の評価に使用されます。提供する入力が正確であるほど、本サービスはより多くにエンティティー言及を認識して、ユーザーの意図を理解できるようになります。

現在、この設定は、英語のダイアログ・スキルでのみ有効化できます。
{: note}

スペル・チェックが有効になっていると、次のようにユーザー入力が修正されます。

- 元の入力: `letme applt for a memberdhip`
- 修正された入力: `let me apply for a membership`

本サービスは、単語のつづりを修正するかどうかを評価するプロセスは、単純な辞書検索に依存した方法ではありません。代むしろ、自然言語処理と確率モデルの組みわせを使用して、用語のつづりが実際に誤っているかどうかと、用語を修正すべきかどうかを評価します。

## スペル・チェックの有効化
{: #beta-spell-check-enable}

スペル・チェック機能を有効にするには、以下の手順を実行します。

1.  「Skills」ページから、スキルを見つけます。
1.  ![オプション・リストのオープンとクローズ](images/kabob-beta.png) アイコンをクリックしてから、**「Settings」**を選択します。
1.  *「Spell Check」*設定ページから、**「Spell check auto-correction」**をオンにします。

### スペル修正のテスト
{: #beta-spell-check-test}

1.  「Try it out」ペインから、つづりが誤っている単語をいくつか含む発話を送信します。

    入力の単語のつづりが誤っている場合、自動的に修正が行われ、![自動修正](images/auto-correct.png) アイコンが表示されます。修正された発話には下線が引かれます。
1.  下線が引かれた発話にマウス・カーソルを合わせると、元の言い回しが表示されます。

つづりの誤った用語があり、本サービスで修正されると予想していたのに修正されなかった場合は、単語を修正するかどうかを決定するために本サービスが使用するルールを調べて、本サービスが意図的に変更を行わない単語のカテゴリーにその単語が属しているかどうかを確認します。

本サービスは、過剰修正を行わないように、以下タイプの入力のスペルは修正しません。

- 大文字で始まる単語
- 絵文字
- ロケーション・エンティティー (都道府県や番地など)
- 数値、単位、時間単位
- 固有名詞 (一般的な名前や会社名など)
- 引用符に囲まれたテキスト
- 特殊文字 (ハイフン (-)、アスタリスク (*)、アンパーサンド (&) など) を含む単語
- このスキルに*属する* 単語。つまり、エンティティー値、エンティティー同義語、またはインテント・ユーザー例に出現するため、意味があると考えられる単語。

修正されない単語が、これらのいずれかの入力タイプであることが明白ではない場合は、エンティティーでその単語に対するファジー・マッチングが有効になっていないかどうか確認することをお勧めします。

#### スペル修正とファジー・マッチングの関係
{: #beta-spell-check-vs-fuzzy-matching}

ファジー・マッチングは、本サービスがユーザー入力内の辞書ベースのエンティティー言及を認識できるよう支援します。その際には辞書検索アプローチを使用して、ユーザー入力による単語を、スキルのトレーニング・データ内にある既存のエンティティー値またはエンティティー同義語と突き合わせます。例えば、ユーザーが `books` と入力し、トレーニング・データにエンティティー同義語の `book` が含まれている場合、ファジー・マッチングではこれら 2 つの用語は同じものを意味すると理解します。

スペル・チェックとファジー・マッチングの両方を有効にすると、ファジー・マッチング機能が実行されてから、スペル・チェックがトリガーされます。既存の辞書エンティティーの値または同義語にマッチングする用語が見つかった場合、その用語は、スキルに*属する* 単語のリストに追加されるため、修正は行われません。同様に、ユーザーが `I want to buy a boook` のようなセンテンスを入力すると、ファジー・マッチングは、用語 `boook` はエンティティー同義語 `book` と同じものを意味すると理解し、それを保護単語リストに追加します。その結果、本サービスは `boook` のスペルを修正*しません*。

#### 処理の流れ
{: #beta-spell-check-how-it-works}

通常、ユーザー入力は、メッセージの `input` オブジェクトの `text` フィールドに未加工で保存されます。ユーザー入力が何らかの方法で修正された場合にのみ、`input` オブジェクトに `original_text` という名前の新しいフィールドが作成されます。このフィールドには、つづりの誤った単語が含まれるユーザーの元の入力が保管されます。また、修正されたテキストは `input.text` フィールドに追加されます。
