---

copyright:
  years: 2015, 2019
lastupdated: "2019-02-11"

subcollection: assistant

---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}
{:deprecated: .deprecated}
{:important: .important}
{:note: .note}
{:tip: .tip}
{:pre: .pre}
{:codeblock: .codeblock}
{:screen: .screen}
{:javascript: .ph data-hd-programlang='javascript'}
{:java: .ph data-hd-programlang='java'}
{:python: .ph data-hd-programlang='python'}
{:swift: .ph data-hd-programlang='swift'}

# Web ホストされたチャット・ウィジェットとの統合
{: #deploy-web-link}

プレビュー・リンクを無効にしなければ、Web ページからアシスタントをすぐにテストすることができます。
{: shortdesc}

アシスタントは、単純な IBM ブランドの Web ページに埋め込まれたチャット・ウィジェットとして自動的に実装されます。テキストをチャット・ウィジェットに入力することによって、アシスタントに追加したダイアログ・スキルをテストできます。ページの URL を他のユーザーと共有して、アシスタントのテストやフィードバックの取得を行う際に支援を受けることができます。

ツールで「Try it out」ペインを使用してテストする場合とは異なり、プレビュー・リンク URL でホストされるアシスタントとの対話から生じる API 呼び出しには料金が発生します。

## プレビュー・リンク統合を使用したアシスタントのテスト
{: #deploy-web-link-try}

Web ホストされたチャット・ウィジェットからアシスタントをテストするには、以下の手順を実行します。

1.  「アシスタント (Assistants)」タブから、テストするアシスタントのタイルをクリックして開きます。

1.  *「Integrations」*セクションから、**「Preview Link」**タイルをクリックします。

    アシスタントの作成時にプレビュー・リンクを有効にしていない場合は、**「Add integration」**をクリックし、**「Preview Link」**統合タイルをクリックしてから、**「Create」**をクリックします。

1.  **Optional**: プレビュー Web ページの名前と説明を変更します。

1.  表示された URL リンクをクリックして、テスト・ページを開きます。

    アシスタントのチャット・ウィジェット実装を示す別の Web ブラウザー・タブが開きます。

    サービス・インスタンスが 2018 年 12 月 13 日より前に英国のデータ・センターで作成されたか、2018 年 5 月 7 日より前にシドニーで作成された場合は、プレビュー・リンク URL を編集する必要があります。URL には、インスタンスがホストされるデータ・センターのロケーション・コードが含まれます。ロンドンとシドニーのインスタンスは、指定された日付より前にダラスにシンジケートされたため、URL 内の `eu-gb` と `au-syd` の参照を `us-south` に置き換えて、Web ページが正しく表示されるようにする必要があります。
    {: important}

1.  テスト発話を送信して、アシスタントがどのように応答するか確認します。

    ダイアログ・スキルを作成してアシスタントに追加するまで、応答は返されません。

    現行セッションのダイアログ・フローは、60 分間 (ライト・プランおよび標準プランの場合は 5 分間) 何の操作も行われないと再開されます。つまり、ユーザーがアシスタントとの対話を停止し、60 分 (または 5 分) 経過すると、以前の会話中に設定されたコンテキスト変数の値はすべてヌルに設定されるか、デフォルト値に戻されます。

1.  テストを実行後、ブラウザーのタブを閉じて、パブリック Web ページを終了できます。

1.  ツールから**「Save Changes」**をクリックして、プレビュー・リンク統合に対して行った編集内容をすべて保存してページを閉じるか、**X** をクリックして、保存せずにページを閉じます。

## ダイアログについての考慮事項
{: #deploy-web-link-dialog}

ダイアログに追加するリッチ応答は Web ホストされたチャット・ウィジェットに正常に表示されますが、以下の例外があります。

- **Connect to human agent**: この応答タイプは無視されます。

- **Pause**: この応答タイプは、チャット・ウィジェットでのアシスタントのアクティビティーを一時停止します。しかし、別の応答がトリガーされるまで、アクティビティーは一時停止後に再開しません。`pause` 応答タイプを含める場合は、その後に必ず別の異なる応答タイプ (`text` など) を追加してください。

応答タイプについて詳しくは、[リッチ応答](/docs/services/assistant?topic=assistant-dialog-overview#dialog-overview-multimedia)を参照してください。

## プレビュー・リンク統合の追加
{: #deploy-web-link-add-more}

自動的に作成されたプレビュー・リンク統合を間違って削除してしまったか、別のパブリック Web ページをもう 1 つ作成する場合は、プレビュー・リンク統合を追加することができます。

1.  「Assistant」タブから、デプロイするアシスタントのタイルをクリックして開きます。

1.  **「Integrations」**セクションに移動して、**「Add Integration」**をクリックします。

1.  **「Preview Link」**統合タイルをクリックします。

1.  オプションでプレビュー・リンク統合の名前と説明を編集し、**「Create」**をクリックします。

    URL がページに追加されます。それをクリックしてプレビュー Web ページを開きます。
